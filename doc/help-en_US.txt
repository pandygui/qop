Auther: Wangbin (aka nukin in ccomve & novesky in motorolafans)
Shanghai university, China
2010-09-09
wbsecg1@gmail.com
Project: http://sourceforge.net/projects/qop/files"
		 http://qt-apps.org/content/show.php/qop?content=132430

Qt Output Parser for tar, zip, unzip, unrar, 7z with a compression/extraction progress indicator.
Support platforms: windows(Qt4), Linux(Qt4, tested on ubuntu 10.04), motorola ezx(Qt2, tested on ROKR E6)

bug: can't kill 7z in windows.

usage: qop [-t parserFor] [-n|s] [-chm] [-x archieve|-T totalSteps] [files...]

-m, --multi-thread: create a new thread to calculate progress bar's total steps.
-h, --help: help
-n, --number: set number of files as total steps.
-s, --size: set size of files as total steps. -s is default
-T, --steps=STEPS: specify total steps.
-t,  --parser[=TYPE]: usually is tool's name, such as tar, zip, unzip, unrar. If using xz, lzop etc with tar, parser is tar. -t tar is default.
If you want to extract a .tar or .tar.xxx file and set size as total steps, use -tuntar is better.
-c, --auto-close: auto close when finished
-C, --cmd=command: execute command
-x, --exteact=ARCHIVE: extracting mode. Omit -T argument. Analyze parser and total steps automaticly.
-d, --diy[=TARFILE]: using built-in method to extract an archive

examples:
	qop tar cvvf test.tar test
	tar zcvvf test.tgz test |qop test -m
	tar zxvvf test.tgz |qop -T `gzip -l test.tgz |sed -n '$s/\(.*\) \(.*\)  .*/\2/p'` -tuntar -c
	tar zxvf test.tgz |qop -T `tar -zt <test.tgz |wc -l` -n  ##slower than former

	tar --use=xz -cvvf test.txz test |qop test -m -t tar
	tar --use=xz test.tar.xz |qop -T `tar --use=xz -t<test.tar.xz |wc -l` -n

	zip -ryv -9 -FS test.zip test |qop test -m -t zip
	unzip -o test.zip -d . |qop -T `unzip -Z -t test.zip |sed 's/\(.*\) files.*/\1/'` -t unzip &
	unrar x -o+ -y test.rar . |qop -t unrar
	7z x -y test.7z |qop -t7z -T $((`7z l test.7z |sed -n '$s/\(.*\), \(.*\)folders/\2/p'`+`7z l test.7z |sed -n '$s/\(.*\) \(.*\)files.*/\2/p'`))

extracting a tar.gz file for new version(>=0.1.0):
	tar zxvvf test.tar.gz |qop -x test.tar.gz


compile notes:
	when compile for ezx version, let QCounterThread inherits QObject and QThread, because QThread does not inherit QObject in Qt2.

	
